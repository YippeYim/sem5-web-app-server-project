# 66010497 Nodejs Expressjs API

API ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏î‡∏£‡∏ô ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 2 ‡πÅ‡∏´‡πà‡∏á ‡∏Ñ‡∏∑‡∏≠ **Server1 (Drone Config Server)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÅ‡∏•‡∏∞ **Server2 (Drone Log Server)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (Logs)

---

## üîó HTTP Methods

| HTTP Method | Path | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏¢‡πà‡∏≠ | ‡πÉ‡∏ä‡πâ Server |
| :--- | :--- | :--- | :--- |
| **GET** | `/configs/{droneId}` | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ï‡∏≤‡∏° `droneId` | Server1 (Drone Config Server) |
| **GET** | `/status/{droneId}` | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ï‡∏≤‡∏° `droneId` | Server1 (Drone Config Server) |
| **GET** | `/logs/{droneId}` | ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (logs) ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ï‡∏≤‡∏° `droneId` (‡∏à‡∏≥‡∏Å‡∏±‡∏î 12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î) | Server2 (Drone Log Server) |
| **POST** | `/logs` | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (log record) ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö | Server2 (Drone Log Server) |

---

## ‚öôÔ∏è ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Endpoints

### 1. GET /configs/{droneId}

* **‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏î‡πâ‡∏ß‡∏¢ `droneId`
* **Input Parameter (Path):**
    * `droneId` (Integer): ID ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
* **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
    1.  ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ `droneId` ‡∏à‡∏≤‡∏Å Path Parameter
    2.  ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠ **GET** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á **Server1 (Drone Config Server)**
    3.  ‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON
* **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô (Response Fields):** `drone_id`, `drone_name`, `light`, `country`, `weight`
* **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Response (Status: 200 OK):**
    ```json
    {
      "drone_id": 3001,
      "drone_name": "Dot Dot",
      "light": "on",
      "country": "India",
      "weight": 21
    }
    ```

### 2. GET /status/{droneId}

* **‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (condition) ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏î‡πâ‡∏ß‡∏¢ `droneId`
* **Input Parameter (Path):**
    * `droneId` (Integer): ID ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
* **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
    1.  ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ `droneId` ‡∏à‡∏≤‡∏Å Path Parameter
    2.  ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠ **GET** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á **Server1 (Drone Config Server)**
    3.  ‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (condition) ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON
* **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô (Response Fields):** `condition`
* **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Response (Status: 200 OK):**
    ```json
    {
      "condition": "good"
    }
    ```

### 3. GET /logs/{droneId}

* **‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (Logs) ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏î‡πâ‡∏ß‡∏¢ `droneId`
* **Input Parameter (Path):**
    * `droneId` (Integer): ID ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Log
* **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
    1.  ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ `droneId` ‡∏à‡∏≤‡∏Å Path Parameter
    2.  ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠ **GET** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á **Server2 (Drone Log Server)**
    3.  Server2 ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô **JSON Array** ‡∏Ç‡∏≠‡∏á Log Records
    4.  ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå `created` ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà **12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£**
* **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô (Response Fields ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ Log Record):** `drone_id`, `drone_name`, `created`, `country`, `celsius`
* **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Response (Status: 200 OK):**
    ```json
    [
      {
        "drone_id": 3001,
        "drone_name": "Dot Dot",
        "created": "2024-09-22 07:37:32.111Z",
        "country": "India",
        "celsius": 45
      },
      {
        "drone_id": 3001,
        "drone_name": "Dot Dot",
        "created": "2024-09-22 07:37:57.411Z",
        "country": "India",
        "celsius": 46
      }
    ]
    ```

### 4. POST /logs

* **‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (Log Record) ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
* **Input Parameter (Request Body):** JSON Object ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Log ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á
* **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
    1.  ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON ‡∏à‡∏≤‡∏Å Request Body
    2.  ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á **Server2 (Drone Log Server)** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Log Record ‡πÉ‡∏´‡∏°‡πà
* **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á Server2 (Required Fields in Request Body):** `drone_id`, `drone_name`, `country`, `celsius`
* **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Request Body:**
    ```json
    {
      "drone_id": 3001,
      "drone_name": "Dot Dot",
      "country": "India",
      "celsius": 47
    }
    ```
* **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Response (Status: 201 Created)**: *(‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô Log Record ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° Timestamp ‡∏´‡∏£‡∏∑‡∏≠ ID)*

---